<!--index.wxml-->
<!-- èƒŒæ™¯ -->
<!-- <view class="bg" style="background-image:url({{bgImgUrl}})"></view> -->

<view class="container">

  <!-- ç”¨æˆ·ä¿¡æ¯ -->
  <view class="userinfo">
    <open-data type="userAvatarUrl" class="userinfo-avatar" />
    <text class="userinfo-nickname">{{greetings}}ï¼Œ</text>
    <open-data type="userNickName" />
    <view class="now-time">
      <text>ğŸ”„ {{nowWeather.obsTime}}</text>
    </view>
  </view>

  <!-- å®æ—¶å¤©æ°”ä¿¡æ¯ -->
  <view class="now">
    <view class="now-position">
      <text catchtap="toSearchPage">{{geoDes}}</text>
    </view>

    <view class="now-tmp-cond">
      <view class="now-tmp">
        <text class="now-tmp--num">{{nowWeather.temp}}</text>
        <text>â„ƒ</text>
      </view>

      <view class="now-cond">
        <i class="qi-{{nowWeather.icon}}"></i>
        <text> {{nowWeather.text}}</text>
      </view>
    </view>

    <view class="now-items">
      <view class="now-items--left">
        <view>{{nowWeather.windDir}} {{nowWeather.windScale}}çº§</view>
        <view>æ¹¿åº¦ {{nowWeather.humidity}}</view>
      </view>
      <view class="now-items--right">
        <view>å¤§æ°”å‹ {{nowWeather.pressure}}</view>
        <view>é™æ°´é‡ {{nowWeather.precip}}</view>
      </view>
    </view>    
  </view>

  <!-- é€ä¸‰å°æ—¶å¤©æ°” -->
  <view class="hourly-container">
    <view class="hourly-title">è¿‘24å°æ—¶é¢„æŠ¥</view>
    <swiper class="hourly" indicator-active-color="#ffffff" indicator-dots="{{true}}">
      <block wx:for="{{hourlyWeather}}" wx:for-index="times" wx:for-item="trip" wx:key="times">
        <swiper-item class="hourly-swiper-item">
          <block wx:for="{{trip}}" wx:for-item="item" wx:for-index="index" wx:key="index">
            <view class="hourly-swiper-column">
              <view>{{item.date}}æ—¶</view>
              <view>{{item.text}}</view>
              <view>
                <i class="forecast-icon qi-{{item.icon}}"></i>
              </view>
              <view>{{item.temp}}â„ƒ</view>
              <view>{{item.windDir}}</view>
              <view>é£é€Ÿ{{item.windScale}}çº§</view>
            </view>
          </block>
        </swiper-item>
      </block>
    </swiper>
  </view>

  <!-- å¹¿å‘Š -->
  <ad unit-id="adunit-f4c3c82b43a4aa1b"></ad>

  <!-- é¢„æµ‹å¤©æ°” -->
  <view class="forecast-container">
    <view class="forecast-title">è¿‘ä¸ƒå¤©é¢„æŠ¥</view>
    <scroll-view scroll-x>
      <view class="forecast">
        <!-- æ—¥æœŸ -->
        <view class="forecast-items">
          <view class="forecast-day" wx:for="{{dailyWeather}}" wx:key="index">{{item.parseDate}}</view>
        </view>
        <!-- ç™½å¤©å¤©æ°” -->
        <view class="forecast-items">
          <view wx:for="{{dailyWeather}}" wx:key="index">{{item.textDay}}</view>
        </view>
        <!-- ç™½å¤©å›¾æ ‡ -->
        <view class="forecast-items">
          <view wx:for="{{dailyWeather}}" wx:key="index">
            <i class="forecast-icon qi-{{item.iconDay}}"></i>            
          </view>
        </view>
        <!-- æ°”æ¸© -->
        <view class="forecast-items">
          <image src="{{canvasSrc}}" style="width: {{canvasWidth}}px; height: 150px;"/>
        </view>
        <!-- æ™šé—´å›¾æ ‡ -->
        <view class="forecast-items">
          <view wx:for="{{dailyWeather}}" wx:key="index">
            <i class="forecast-icon qi-{{item.iconNight}}"></i>    
          </view>
        </view>
        <!-- æ™šé—´å¤©æ°” -->
        <view class="forecast-items">
          <view wx:for="{{dailyWeather}}" wx:key="index">{{item.textNight}}</view>
        </view>
        <!-- é£å‘ -->
        <view class="forecast-items">
          <view wx:for="{{dailyWeather}}" wx:key="index">{{item.windDirDay}}</view>
        </view>
        <!-- é£åŠ› -->
        <view class="forecast-items">
          <view wx:for="{{dailyWeather}}" wx:key="index">é£é€Ÿ{{item.windScaleDay}}çº§</view>
        </view>
      </view>
      <canvas canvas-id="canvasWeather" class="canvasWeather" style="width: {{canvasWidth}}px; height: 150px;" disable-scroll="true"></canvas>
    </scroll-view>
  </view>

  <!-- ç”Ÿæ´»æŒ‡æ•° -->
  <!-- <view class="lifestyle-container">
    <view class="lifestyle-title">ç”Ÿæ´»æŒ‡æ•°</view>
    <view class="lifestyle">
      <block wx:if="lifestyle.length">
        <view wx:for="{{lifestyle}}" wx:key="index">
          <view class="lifestyle-item--pic">
            <image class="lifestyle-icon" src="{{lifestyle[index].iconUrl}}" />
          </view>
          <view class="lifestyle-item--txt">
            <view>{{lifestyle[index].iconTxt}}ï¼š{{lifestyle[index].brf}}</view>
            <view class="lifestyle-item--desc">{{lifestyle[index].txt}}</view>
          </view>
        </view>
      </block>
    </view>
  </view> -->

  <!-- copyright -->
  <view class="copyright">
    <text>developed by wuwhs</text>
    <text>, api by qweather</text>
  </view>
</view>